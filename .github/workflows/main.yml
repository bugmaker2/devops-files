name: Lark Notification

on:
  push:
    branches:
      - main  # æˆ–è€…ä½ çš„é»˜è®¤åˆ†æ”¯åç§°
    paths-ignore:
      - '**.md'  # å¯é€‰ï¼šå¿½ç•¥ markdown æ–‡ä»¶çš„æ›´æ”¹

jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v3

      - name: Lark Notifier
        uses: leonardoli2022/actions.notify@v0.2.4
        with:
          plat_type: lark
          notify_title: "ä»£ç æ›´æ–°é€šçŸ¥"
          notify_message: |
            ğŸš€ ä»£ç å·²æ›´æ–°
            ğŸ“¦ ä»“åº“: ${{ github.repository }}
            ğŸ‘¤ æäº¤è€…: ${{ github.actor }}
            ğŸ“ æäº¤ä¿¡æ¯: ${{ github.event.head_commit.message }}
            ğŸ”— æŸ¥çœ‹è¯¦æƒ…: ${{ github.event.head_commit.url }}
          template_color: green
          enable_image: true
        env:
          NOTIFY_WEBHOOK: ${{ secrets.LARK_WEBHOOK }}

          
